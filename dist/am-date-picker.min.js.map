{"version":3,"sources":["am-date-picker.module.js","am-date-picker.constant.js","am-date-picker.dialog.js","am-date-picker.directive.js","am-date-picker.provider.js","am-date-picker.tmpl.js"],"names":["angular","module","options","constant","DialogController","$timeout","$mdPanel","init","dateMoment","moment","dialog","date","undefined","isOutOfRange","minDate","maxDate","locale","isTodayDisabled","localeData","daysOfWeek","_weekdaysMin","years","minYear","maxYear","y","push","generateCalendar","cancel","callback","displayYearSelection","yearSelection","yearSelector","element","document","querySelector","activeYear","activeYearHeight","offsetHeight","scrollTop","offsetTop","clientHeight","previousDay","clone","cloneMoment","firstDayOfMonth","day","maxDays","endOf","Date","disabled","days","emptyFirstDays","i","j","add","selected","isMoment","isSame","today","hide","toDate","hideYearSelection","isDate","isBefore","isAfter","nextMonth","onNextMonth","monthChanged","next","delay","onPrevMonth","previousMonth","subtract","select","_day","selectYear","_year","year","this","controller","$inject","amDatePicker","bindToController","AmDatePickerController","controllerAs","link","scope","attr","controllers","ngModelCtrl","amDatePickerCtrl","replace","require","restrict","allowClear","backButtonText","cancelButton","inputDateFormat","inputLabel","popupDateFormat","showInputIcon","todayButton","templateUrl","$scope","OPTIONS","amDatePickerConfig","clearDate","$setViewValue","render","clearErrorState","forEach","field","$setValidity","$render","length","hasOwnProperty","isDefined","selectedDate","$setTouched","panelRef","close","openPicker","ev","panelPosition","newPanelPosition","absolute","center","config","attachTo","body","position","locals","$viewValue","nextIcon","prevIcon","parent","targetEvent","clickOutsideToClose","escapeToClose","focusOnOpen","open","then","result","modelMomentFormatted","format","updateErrorState","$watch","newValue","oldValue","directive","calendarIcon","clearIcon","setIcons","icons","key","setOptions","$get","amDatePickerService","properties","createProperty","obj","name","value","Object","defineProperty","__proto__","get","property","provider"],"mappings":"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","file":"am-date-picker.min.js","sourcesContent":["(function() {\n    'use strict';\n\n    angular\n        .module('am.date-picker', ['ngMaterial', 'ngAnimate']);\n        \n})();\n","(function() {\n    'use strict';\n\n    var options = ['allowClear', 'backButtonText', 'cancelButton', 'inputLabel',\n                   'maxDate', 'minDate', 'maxYear', 'minYear', 'locale',\n                   'inputDateFormat', 'popupDateFormat', 'showInputIcon', 'todayButton',\n                   'calendarIcon', 'prevIcon', 'nextIcon', 'clearIcon'];\n\n    angular\n        .module('am.date-picker')\n        .constant('OPTIONS', options);\n\n})();\n","(function () {\n    'use strict';\n\n    angular\n        .module('am.date-picker')\n        .controller('amDatePickerDialogCtrl', DialogController);\n\n    DialogController.$inject = ['$timeout', '$mdPanel'];\n\n    function DialogController($timeout, $mdPanel) {\n        var dialog = this;\n        var delay = 110;\n\n        dialog.cancel = cancel;\n        dialog.displayYearSelection = displayYearSelection;\n        dialog.hide = hide;\n        dialog.hideYearSelection = hideYearSelection;\n        dialog.previousMonth = previousMonth;\n        dialog.nextMonth = nextMonth;\n        dialog.select = select;\n        dialog.selectYear = selectYear;\n        dialog.today = today;\n\n        dialog.monthChanged = true;\n        dialog.isTodayDisabled = false;\n        dialog.yearSelection = false;\n\n        init();\n\n        function init() {\n            var dateMoment = moment(dialog.date || undefined);\n\n            dialog.dateMoment = (isOutOfRange(dateMoment)) ? moment(dialog.minDate || dialog.maxDate) : dateMoment;\n            dialog.dateMoment.locale(dialog.locale);\n            dialog.isTodayDisabled = isOutOfRange(moment());\n\n            var localeData = moment.localeData(dialog.locale);\n            dialog.daysOfWeek = [\n                localeData._weekdaysMin[1],\n                localeData._weekdaysMin[2],\n                localeData._weekdaysMin[3],\n                localeData._weekdaysMin[4],\n                localeData._weekdaysMin[5],\n                localeData._weekdaysMin[6],\n                localeData._weekdaysMin[0]\n            ];\n\n            dialog.years = [];\n            var minYear = dialog.minYear || 1920,\n                maxYear = dialog.maxYear || 2020;\n\n            for (var y = minYear; y <= maxYear; y++) {\n                dialog.years.push(y);\n            }\n\n            generateCalendar();\n        }\n\n        function cancel() {\n            dialog.callback.cancel();\n        }\n\n        function displayYearSelection() {\n            dialog.yearSelection = true;\n            $timeout(function () {\n                var yearSelector = angular.element(document.querySelector('.am-date-picker__year-selector')),\n                    activeYear = angular.element(document.querySelector('.am-date-picker__year--is-active')),\n                    activeYearHeight = activeYear[0].offsetHeight;\n\n                yearSelector[0].scrollTop = activeYear[0].offsetTop - yearSelector[0].offsetTop -\n                    yearSelector[0].clientHeight / 2 + activeYearHeight / 2;\n            });\n        }\n\n        function generateCalendar() {\n            var previousDay = dialog.dateMoment.clone().date(0),\n                cloneMoment = dialog.dateMoment.clone(),\n                firstDayOfMonth = cloneMoment.date(1).day(),\n                maxDays = cloneMoment.endOf('month').date(),\n                today = new Date(),\n                date;\n\n            dialog.dateMoment.disabled = isOutOfRange(dialog.dateMoment);\n            dialog.days = [];\n            dialog.emptyFirstDays = [];\n\n            for (var i = firstDayOfMonth === 0 ? 6 : firstDayOfMonth - 1; i > 0; i--) {\n                dialog.emptyFirstDays.push({});\n            }\n            for (var j = 0; j < maxDays; j++) {\n                date = previousDay.add(1, 'days').clone();\n                date.disabled = isOutOfRange(date);\n                date.selected = moment.isMoment(dialog.dateMoment) &&\n                    date.isSame(dialog.dateMoment, 'day') && !date.disabled;\n                date.today = date.isSame(moment(), 'day');\n\n                dialog.days.push(date);\n            }\n        }\n\n        function hide() {\n            dialog.callback.hide(dialog.dateMoment.toDate());\n        }\n\n        function hideYearSelection() {\n            dialog.yearSelection = false;\n        }\n\n        function isOutOfRange(dateMoment) {\n            return angular.isDate(dialog.minDate) && dateMoment.isBefore(dialog.minDate, 'day') ||\n                angular.isDate(dialog.maxDate) && dateMoment.isAfter(dialog.maxDate, 'day');\n        }\n\n        function nextMonth() {\n            dialog.dateMoment.add(1, 'month');\n            generateCalendar();\n            onNextMonth();\n        }\n\n        function onNextMonth() {\n            dialog.monthChanged = false;\n            dialog.next = true;\n            $timeout(function () {\n                dialog.monthChanged = true;\n            }, delay);\n        }\n\n        function onPrevMonth() {\n            dialog.next = false;\n            dialog.monthChanged = false;\n            $timeout(function () {\n                dialog.monthChanged = true;\n            }, delay);\n        }\n\n        function previousMonth() {\n            dialog.dateMoment.subtract(1, 'month');\n            generateCalendar();\n            onPrevMonth();\n        }\n\n        function today() {\n            if (dialog.yearSelection) {\n                dialog.hideYearSelection();\n            }\n            dialog.select((dialog.locale) ? moment().locale(dialog.locale) : moment());\n        }\n\n        function select(_day) {\n            if (_day.disabled) return;\n            dialog.dateMoment = _day;\n            generateCalendar();\n        }\n\n        function selectYear(_year) {\n            dialog.hideYearSelection();\n            select(dialog.dateMoment.year(_year));\n            generateCalendar();\n        }\n    }\n\n})();","(function () {\n    'use strict';\n\n    angular\n        .module('am.date-picker')\n        .directive('amDatePicker', amDatePicker)\n\n    function amDatePicker() {\n        return {\n            bindToController: true,\n            controller: AmDatePickerController,\n            controllerAs: 'amDatePicker',\n            link: function (scope, element, attr, controllers) {\n                var ngModelCtrl = controllers[0],\n                    amDatePickerCtrl = controllers[1];\n                amDatePickerCtrl.init(ngModelCtrl);\n            },\n            replace: true,\n            require: ['ngModel', 'amDatePicker'],\n            restrict: 'AE',\n            scope: {\n                allowClear: '=?amAllowClear',\n                backButtonText: '@?amBackButtonText',\n                cancelButton: '@?amCancelButton',\n                inputDateFormat: '@?amInputDateFormat',\n                inputLabel: '@?amInputLabel',\n                locale: '@?amLocale',\n                maxDate: '=?amMaxDate',\n                minDate: '=?amMinDate',\n                maxYear: '=?amMaxYear',\n                minYear: '=?amMinYear',\n                popupDateFormat: '@?amPopupDateFormat',\n                showInputIcon: '=?amShowInputIcon',\n                todayButton: '@?amTodayButton'\n            },\n            templateUrl: 'am-date-picker.html'\n        };\n    }\n\n    AmDatePickerController.$inject = ['$scope', '$timeout', '$mdPanel', 'OPTIONS', 'amDatePickerConfig'];\n\n    function AmDatePickerController($scope, $timeout, $mdPanel, OPTIONS, amDatePickerConfig) {\n        var amDatePicker = this;\n\n        var panelRef;\n\n        amDatePicker.clearDate = clearDate;\n        amDatePicker.init = init;\n        amDatePicker.openPicker = openPicker;\n        amDatePicker.hide = hide;\n        amDatePicker.cancel = cancel;\n\n        amDatePicker.ngModelCtrl = null;\n\n        $scope.$watch(\"amDatePicker.minDate\", function (newValue, oldValue) {\n            var date = amDatePicker.ngModelCtrl.$viewValue,\n                dateMoment = moment(date);\n            if (date && newValue && dateMoment.isBefore(newValue, 'day')) {\n                amDatePicker.ngModelCtrl.$setViewValue(newValue);\n                render();\n            } else {\n                updateErrorState();\n            }\n        });\n\n        $scope.$watch(\"amDatePicker.maxDate\", function (newValue, oldValue) {\n            var date = amDatePicker.ngModelCtrl.$viewValue,\n                dateMoment = moment(date);\n            if (date && newValue && dateMoment.isAfter(newValue, 'day')) {\n                amDatePicker.ngModelCtrl.$setViewValue(newValue);\n                render();\n            } else {\n                updateErrorState();\n            }\n        });\n\n        function clearDate() {\n            amDatePicker.ngModelCtrl.$setViewValue(undefined);\n            render();\n        }\n\n        function clearErrorState() {\n            ['minDate', 'maxDate', 'valid'].forEach(function (field) {\n                amDatePicker.ngModelCtrl.$setValidity(field, true);\n            }, amDatePicker);\n        }\n\n        function init(ngModelCtrl) {\n            amDatePicker.ngModelCtrl = ngModelCtrl;\n\n            ngModelCtrl.$render = render;\n\n            for (var i = 0; i < OPTIONS.length; i++) {\n                if (amDatePickerConfig.hasOwnProperty(OPTIONS[i]) &&\n                    !angular.isDefined(amDatePicker[OPTIONS[i]])) {\n                    amDatePicker[OPTIONS[i]] = amDatePickerConfig[OPTIONS[i]];\n                }\n            }\n        }\n\n        function hide(selectedDate) {\n            amDatePicker.ngModelCtrl.$setViewValue(selectedDate);\n            amDatePicker.ngModelCtrl.$setTouched();\n            render();\n            if (panelRef) {\n                panelRef.close();\n            }\n        }\n\n        function cancel() {\n            amDatePicker.ngModelCtrl.$setTouched();\n            if (panelRef) {\n                panelRef.close();\n            }\n        }\n\n        function openPicker(ev) {\n            var panelPosition = $mdPanel.newPanelPosition()\n                .absolute()\n                .center();\n            /*\n            var position = $mdPanel.newPanelPosition()\n                  .relativeTo('.demo-menu-open-button')\n                  .addPanelPosition($mdPanel.xPosition.ALIGN_START, $mdPanel.yPosition.BELOW);*/\n\n\n            var config = {\n                attachTo: angular.element(document.body),\n                bindToController: true,\n                position: panelPosition,\n                controller: 'amDatePickerDialogCtrl',\n                controllerAs: 'dialog',\n                locals: {\n                    backButtonText: amDatePicker.backButtonText,\n                    cancelButton: amDatePicker.cancelButton,\n                    date: amDatePicker.ngModelCtrl.$viewValue,\n                    maxDate: amDatePicker.maxDate,\n                    maxYear: amDatePicker.maxYear,\n                    minDate: amDatePicker.minDate,\n                    minYear: amDatePicker.minYear,\n                    nextIcon: amDatePicker.nextIcon,\n                    locale: amDatePicker.locale,\n                    popupDateFormat: amDatePicker.popupDateFormat,\n                    prevIcon: amDatePicker.prevIcon,\n                    todayButton: amDatePicker.todayButton,\n                    callback: {\n                        hide: hide,\n                        cancel: cancel\n                    }\n                },\n                parent: angular.element(document.body),\n                targetEvent: ev,\n                templateUrl: 'am-date-picker_content.tmpl.html',\n                clickOutsideToClose: false,\n                escapeToClose: true,\n                focusOnOpen: true\n            };\n\n            $mdPanel.open(config).then(function (result) {\n                panelRef = result;\n            });\n        }\n\n        function render() {\n            var date = amDatePicker.ngModelCtrl.$viewValue;;\n            amDatePicker.modelMomentFormatted = (angular.isDate(date)) ?\n                moment(date).locale(amDatePicker.locale).format(amDatePicker.inputDateFormat) :\n                undefined;\n            updateErrorState();\n        }\n\n        function updateErrorState() {\n            var date = amDatePicker.ngModelCtrl.$viewValue,\n                dateMoment,\n                isAfter, isBefore;\n            clearErrorState();\n            if (angular.isDate(date)) {\n                dateMoment = moment(date);\n                isAfter = dateMoment.isAfter(amDatePicker.minDate, 'day') ||\n                    dateMoment.isSame(amDatePicker.minDate, 'day');\n                isBefore = dateMoment.isBefore(amDatePicker.maxDate, 'day') ||\n                    dateMoment.isSame(amDatePicker.maxDate, 'day');\n                amDatePicker.ngModelCtrl.$setValidity('minDate', !moment.isDate(amDatePicker.minDate) || isAfter);\n                amDatePicker.ngModelCtrl.$setValidity('maxDate', !moment.isDate(amDatePicker.maxDate) || isBefore);\n            } else {\n                amDatePicker.ngModelCtrl.$setValidity('valid', date == null);\n            }\n        }\n    }\n\n})();","(function () {\n    'use strict';\n\n    angular\n        .module('am.date-picker')\n        .provider('amDatePickerConfig', amDatePickerConfig);\n\n    amDatePickerConfig.$inject = ['OPTIONS'];\n\n    function amDatePickerConfig(OPTIONS) {\n        var config = this;\n        config.allowClear = true;\n        config.backButtonText = \"Back\";\n        config.inputDateFormat = 'LL';\n        config.maxYear = 2020;\n        config.minYear = 1920;\n        config.locale = 'en';\n        config.popupDateFormat = 'ddd, MMM D';\n        config.showInputIcon = false;\n\n        /* Icons */\n        config.calendarIcon = '/dist/images/icons/ic_today_24px.svg';\n        config.clearIcon = '/dist/images/icons/ic_close_24px.svg';\n        config.nextIcon = '/dist/images/icons/ic_chevron_right_18px.svg';\n        config.prevIcon = '/dist/images/icons/ic_chevron_left_18px.svg';\n\n        config.setIcons = function(icons) {\n            for (var key in icons) {\n                config[key] = icons[key];\n            }\n        }\n\n        config.setOptions = function(options) {\n            for (var key in options) {\n                config[key] = options[key];\n            }\n         }\n\n        this.$get = function () {\n            return new amDatePickerService(OPTIONS, config);\n        };\n\n    }\n\n\n    function amDatePickerService(properties, config){\n        for(var property in properties){\n            createProperty(this, properties[property], config[properties[property]]);\n        }\n\n        function createProperty(obj, name, value){\n            Object.defineProperty(obj, name, {\n                __proto__: null,\n                get: function(){\n                    return value;\n                }\n            });\n        }\n    }\n\n})();\n","angular.module(\"am.date-picker\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"am-date-picker.html\",\"<div style=\\\"outline-style: none;\\\">\\n    <!-- Date picker input -->\\n    <div>\\n        <md-input-container ng-class=\\\"{\\'md-has-icon\\': amDatePicker.showInputIcon &&\\n                                                      (amDatePicker.showInputIcon || amDatePicker.allowClear) }\\\">\\n            <label>{{ amDatePicker.inputLabel }}</label>\\n            <div class=\\\"am-date-picker__calendar-icon\\\" ng-if=\\\"amDatePicker.showInputIcon\\\">\\n                <md-button class=\\\"md-icon-button\\\" ng-click=\\\"amDatePicker.openPicker($event)\\\" aria-label=\\\"Clear\\\">\\n                    <md-icon md-svg-icon=\\\"{{ amDatePicker.calendarIcon }}\\\" ng-if=\\\"amDatePicker.showInputIcon\\\"></md-icon>\\n                </md-button>\\n            </div>\\n\\n            <input ng-model=\\\"amDatePicker.modelMomentFormatted\\\" ng-click=\\\"amDatePicker.openPicker($event)\\\" class=\\\"am-date-picker__input\\\"\\n                type=\\\"text\\\" readonly=\\\"readonly\\\">\\n            <div class=\\\"am-date-picker__clear-icon\\\" ng-if=\\\"amDatePicker.allowClear\\\">\\n                <md-button class=\\\"md-icon-button\\\" ng-click=\\\"amDatePicker.clearDate()\\\" aria-label=\\\"Clear\\\">\\n                    <md-icon md-svg-icon=\\\"{{ amDatePicker.clearIcon }}\\\"></md-icon>\\n                </md-button>\\n            </div>\\n        </md-input-container>\\n    </div>\\n\\n\\n    <script type=\\\"text/ng-template\\\" id=\\\"am-date-picker_content.tmpl.html\\\">\\n        <md-card role=\\\"dialog\\\" class=\\\"am-date-picker__container\\\" aria-label=\\\"Datepicker Content\\\" ng-cloak>\\n            <div layout=\\\"column\\\">\\n                <!-- Current date -->\\n                <md-toolbar class=\\\"am-date-picker__header-current-date\\\">\\n                    <div layout=\\\"column\\\" layout-align=\\\"center start\\\">\\n                        <p class=\\\"md-subhead\\\">{{ dialog.dateMoment.format(\\'YYYY\\') }}</p>\\n                        <h2 class=\\\"md-title\\\">{{ dialog.dateMoment.format(dialog.popupDateFormat) }}</h2>\\n                    </div>\\n                </md-toolbar>\\n            </div>\\n\\n            <!-- Date picker: content -->\\n            <div ng-hide=\\\"dialog.yearSelection\\\" class=\\\"am-date-picker__content am-date-picker__animate-year-selection\\\">\\n                <div layout=\\\"row\\\" layout-align=\\\"space-between center\\\" class=\\\"am-date-picker__month-year\\\">\\n                    <md-button ng-click=\\\"dialog.previousMonth()\\\" class=\\\"md-icon-button\\\" aria-label=\\\"Prev Month Button\\\">\\n                        <md-icon aria-label=\\\"Prev\\\" class=\\\"am-date-picker__chevron\\\" md-svg-icon=\\\"{{ dialog.prevIcon }}\\\"></md-icon>\\n                    </md-button>\\n\\n                    <md-button ng-click=\\\"dialog.displayYearSelection()\\\" class=\\\"md-primary am-date-picker__month-year\\\">\\n                        {{ dialog.dateMoment.format(\\'MMMM YYYY\\') }}\\n                    </md-button>\\n\\n                    <md-button ng-click=\\\"dialog.nextMonth()\\\" class=\\\"md-icon-button\\\" aria-label=\\\"Next Month Button\\\">\\n                        <md-icon aria-label=\\\"Next\\\" class=\\\"am-date-picker__chevron\\\" md-svg-icon=\\\"{{ dialog.nextIcon }}\\\"></md-icon>\\n                    </md-button>\\n                </div>\\n\\n                <!-- Calendar -->\\n                <div class=\\\"am-date-picker__calendar am-date-picker__animate-month-change\\\" ng-class=\\\"{\\'next\\': dialog.next,\\n                        \\'prev\\': !dialog.next}\\\" ng-if=\\\"dialog.monthChanged\\\">\\n\\n                    <!-- Weekdays -->\\n                    <div class=\\\"am-date-picker__weekdays\\\" layout layout-align=\\\"space-between\\\">\\n                        <span ng-repeat=\\\"day in dialog.daysOfWeek\\\">{{ day }}</span>\\n                    </div>\\n\\n                    <!-- Days -->\\n                    <span class=\\\"am-date-picker__empty-days\\\" ng-repeat=\\\"x in dialog.emptyFirstDays\\\">&nbsp;</span>\\n\\n                    <div class=\\\"am-date-picker__days\\\">\\n                        <md-button class=\\\"md-primary md-icon-button\\\" ng-class=\\\"{\\'am-date-picker__day--is-selected md-fab\\' : day.selected,\\n                               \\'am-date-picker__day--is-today\\': day.today && !day.selected}\\\" ng-repeat=\\\"day in dialog.days\\\"\\n                            ng-disabled=\\\"day.disabled\\\" ng-click=\\\"dialog.select(day)\\\">{{ day ? day.format(\\'D\\') : \\'\\' }}</md-button>\\n                    </div>\\n\\n                </div>\\n            </div>\\n\\n            <!-- Year selection -->\\n            <div class=\\\"am-date-picker__year-selector am-date-picker__animate-year-selection\\\" ng-show=\\\"dialog.yearSelection\\\">\\n                <div class=\\\"am-date-picker__year\\\" ng-repeat=\\\"year in dialog.years\\\">\\n                    <md-button class=\\\"md-primary md-icon-button\\\" ng-class=\\\"{ \\'am-date-picker__year--is-active md-fab md-mini\\':\\n                                        year == dialog.dateMoment.format(\\'YYYY\\') }\\\" ng-click=\\\"dialog.selectYear(year)\\\">\\n                        {{ year }}\\n                    </md-button>\\n                </div>\\n            </div>\\n\\n            <!--Actions-->\\n            <md-card-actions layout=\\\"row\\\" class=\\\"am-date-picker__actions\\\">\\n                <md-button ng-click=\\\"dialog.today()\\\" ng-disabled=\\\"dialog.isTodayDisabled\\\" ng-if=\\\"dialog.todayButton\\\" class=\\\"md-primary\\\">\\n                    {{ dialog.todayButton }}\\n                </md-button>\\n                <span flex></span>\\n                <div ng-if=\\\"!dialog.yearSelection\\\">\\n                    <md-button ng-click=\\\"dialog.cancel()\\\" ng-if=\\\"dialog.cancelButton\\\" class=\\\"md-primary\\\">\\n                        {{ dialog.cancelButton }}\\n                    </md-button>\\n\\n                    <md-button ng-click=\\\"dialog.hide()\\\" ng-disabled=\\\"dialog.dateMoment.disabled\\\" class=\\\"md-primary\\\">\\n                        OK\\n                    </md-button>\\n                </div>\\n\\n                <md-button ng-click=\\\"dialog.hideYearSelection()\\\" ng-if=\\\"dialog.yearSelection\\\" class=\\\"md-primary\\\">\\n                    {{ dialog.backButtonText }}\\n                </md-button>\\n            </md-card-actions>\\n        </md-card>\\n    </script>\\n\\n</div>\");}]);"]}